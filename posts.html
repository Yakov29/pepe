<!DOCTYPE html><html lang="ru"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Посты по теме</title><style>body{background-color:#f0f0f0;margin:0;padding:100px 0 50px;font-family:Arial,sans-serif}header{color:#fff;text-align:center;z-index:1000;background-color:#28a745;width:100%;padding:10px 0;position:fixed;top:0;left:0}main{max-width:800px;margin:0 auto;padding:70px 20px 60px}footer{color:#fff;text-align:center;z-index:1000;background-color:#28a745;width:100%;padding:10px 0;position:fixed;bottom:0;left:0}.posts-container,.form-container{background-color:#fff;border-radius:8px;margin-bottom:20px;padding:20px;box-shadow:0 2px 4px #0000001a}.posts-container h2,.form-container h2{margin-top:0}.form-container input,.form-container textarea{border:1px solid #ccc;border-radius:4px;width:100%;margin-bottom:10px;padding:10px}.form-container button{color:#fff;cursor:pointer;background-color:#28a745;border:none;border-radius:4px;padding:10px 20px}.post{background-color:#f9f9f9;border-left:4px solid #28a745;border-radius:4px;margin-top:10px;padding:10px;box-shadow:0 1px 3px #0000001a}.post h4{margin-top:0}.back-link,.main-link{color:#fff;margin-bottom:20px;font-size:16px;font-weight:700;text-decoration:none;display:inline-block}.back-link:hover,.main-link:hover{text-decoration:underline}.modal{z-index:1001;background:#00000080;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:fixed;top:0;left:0}.modal-content{background:#fff;border-radius:8px;width:90%;max-width:500px;padding:20px;animation:.3s ease-in-out fadeIn;position:relative}.modal-content h2{margin-top:0;margin-bottom:20px}.modal-content input,.modal-content textarea{border:1px solid #ccc;border-radius:4px;width:calc(100% - 22px);margin-bottom:10px;padding:10px}.modal-content button{color:#fff;cursor:pointer;background-color:#28a745;border:none;border-radius:4px;padding:10px 20px}.modal-content .close{cursor:pointer;color:#333;font-size:18px;position:absolute;top:10px;right:10px}.modal-content .close:hover{color:#28a745}.notification{color:#333;text-align:center;background-color:#ffc107;border-radius:4px;margin-top:10px;padding:10px}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@media (width<=600px){.modal-content{width:95%}.form-container button{width:100%;padding:12px}.post{padding:15px}}</style></head><body> <header> <h1>Посты по теме</h1>  </header> <main> <div class="posts-container" id="posts">  </div> <div class="form-container"> <button onclick="openModal('postModal')">Создать новый пост</button> </div> <div class="modal" id="postModal"> <div class="modal-content"> <span class="close" onclick="closeModal('postModal')">&times;</span> <h2>Создать новый пост</h2> <input type="text" id="postTitle" placeholder="Заголовок поста" required> <textarea id="postContent" placeholder="Текст поста" rows="4" required></textarea> <button onclick="submitPost()">Отправить пост</button> </div> </div> </main> <footer> <p>&copy; 2024 Posts</p> </footer> <script>window.onload=function(){var e;let t=(e="themeId",new URLSearchParams(window.location.search).get(e));if(!t){alert("Не удалось получить идентификатор темы");return}fetch(`http://localhost:3000/posts?themeId=${t}`).then(e=>e.json()).then(e=>{let t=document.getElementById("posts");if(t.innerHTML="<h2>Посты</h2>",0===e.length){let e=document.createElement("div");e.classList.add("notification"),e.textContent="Нет постов для отображения.",t.appendChild(e)}else e.forEach(e=>{let n=document.createElement("div");n.classList.add("post"),n.innerHTML=`
                                <h4>${e.title}</h4>
                                <p>${e.content}</p>
                            `,t.appendChild(n)})}).catch(e=>{let t=document.getElementById("posts");t.innerHTML="<h2>Посты</h2>";let n=document.createElement("div");n.classList.add("notification"),n.textContent="Ошибка загрузки постов. Попробуйте позже.",t.appendChild(n),console.error("Ошибка загрузки постов:",e)})};</script> </body></html>